# Mentoring 20.02.2026

## React State

- The only way to change the UI in React is by changing a state variable. (Except for CSS animations)
- We declare state variables by using the `useState` hook:
  ```js
  const [count, setCount] = useState(5);
  ```
- `useState` returns an array with:
  - The current value of the state variable (index 0)
  - A "setter"-function to change the state variable (index 1)

- Whenever we call the setter function, React will do two things:
  - It will change the value of the state variable
  - It will "render" the application again (i.e. it will call our component function again)

- If you want to calculate the new state based on the value of the old state, always use the callback version of `useState`:

  ```js
  // instead of:
  // setCount(count + 1)
  setCount((prev) => prev + 1);
  ```

- You can use a state variable to display it directly in your JSX:

  ```jsx
  <h2>The count is: {count}</h2>
  ```

- Or you can use it to control visibility or appearance of JSX elements (conditional rendering):

  ```jsx
  // display something depending on a certain condition:
  {
    count > 0 && <p>The count is greater than 0!</p>;
  }
  // display A or B based on a certain condition:
  {
    count > 0 ? (
      <p>The count is greater than 0!</p>
    ) : (
      <p>The count is NOT greater than 0!</p>
    );
  }
  // change the style of an element based on a condition:
  <h2
    // either by changing/adding a className:
    className={count > 0 ? "highlighted" : "standard-heading"}
    // or by modifying individual style properties:
    style={{
      color: count > 0 ? "green" : undefined,
    }}
  >
    My Heading
  </h2>;
  ```

- Try to keep your state as "atomic" as possible. If you can calculate variables based on a state variable, use a normal variable for this calculated value. Don't create a new state variable!!

  ```js
  const [firstName, setFirstName] = useState("Ralf");
  const [lastName, setLastName] = useState("Siewert");
  // Don't do this:
  // const [fullName, setFullName] = useState("Ralf Siewert");
  const fullName = `${firstName} ${lastName}`;
  ```

  This is called "derived state".

  ## Splitting your app into components

  If your App.jsx becomes too big (which happens quickly), you should consider breaking it up into components.

- Components should be as "stupid" as possible: Their main purpose is to receive props and render content based on these props!

  ```jsx
  // bad component design:
  export function GameResult({ count }) {
    return ({
      // bad because: the winning/losing logic is calculated inside the component
      count === 2000 ? <p>Du hast gewonnen</p> : <p>Du hast verloren</p>;
    })
  }
  // good component design:
  export function GameResult({ isGameWon }) {
    return ({
      // good because: the winning/losing logic is calculated in the parent component, GameResult is only responsible for displaying the outcome:
      isGameWon ? <p>Du hast gewonnen</p> : <p>Du hast verloren</p>;
    })
  }
  ```

- If components need to change state in a parent component, they CAN NOT DO THIS directly! You need to pass a function from the parent component to the child component:

  ```jsx
  export function GameResult({ isGameWon, onResetGame }) {
  return (<>{
    // good because: the winning/losing logic is calculated in the parent component, GameResult is only responsible for displaying the outcome:
    isGameWon ? <p>Du hast gewonnen</p> : <p>Du hast verloren</p>;
  }
  <button onClick={onResetGame}>Reset Game</button>
  </>)
  }

  // Call it in the parent component like this:
    function handleResetGame(){
        setCount(0)
    }
  // ...
    <GameResult isGameWon={count===2000} onResetGame={handleResetGame} />
  // ...

  // or with an anonymous function:

  // ...
    <GameResult isGameWon={count===2000} onResetGame={()=>{setCount(0)}} />
  // ...

  ```

  ## Demo
  - [Race exercise (`main` branch): using state](https://github.com/dci-fbw-wd-25-d04/mentoring-race-exercise)
  - [Race exercise (`solution-1` branch): passing state down to components](https://github.com/dci-fbw-wd-25-d04/mentoring-race-exercise/tree/solution-1)
