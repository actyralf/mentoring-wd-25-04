# Mentoring 13.02.2026

## JWT authentication

### What is JWT?

JWT (JSON Web Token) is a compact, signed token format used for stateless authentication.

Instead of storing sessions on the server, the server:

1. Verifies user credentials
2. Signs a token
3. Sends it to the client
4. The client sends the token with every request

The server verifies the token signature to trust the data.

### Implementation in Express

1️⃣ Login

```js
app.post("/login", ...)
```

- Client sends email + password
- Server checks credentials
- If valid → create token:

```js
jwt.sign(payload, JWT_SECRET, { expiresIn: "1h" });
```

The payload contains:

```js
{
  sub: user.id,
  email: user.email
}
```

- sub = subject (user id)
- Signed with JWT_SECRET
- Expires in 1 hour

The server returns:

```json
{ "token": "..." }
```

2️⃣ Client Stores Token

Typically stored in:

- memory
- localStorage
- or HTTP-only cookie

Client sends it in future requests:

```code
Authorization: Bearer <token>
```

3️⃣ Protected Route

```js
app.get("/secret-data/:userId", ...)
```

Steps:

1. Extract token from header
2. Verify signature:

```js
jwt.verify(token, JWT_SECRET);
```

3. If valid → read payload
4. Check authorization logic:

- User exists
- User ID matches route param

### Important JWT Properties

✅ Signed, Not Encrypted

JWT ensures:

- The token was issued by your server
- The payload was not modified

But:

- Anyone can decode it (Base64)
- Don’t store secrets inside the payload

✅ Stateless

No session storage required.
The server does not store login sessions.

This makes JWT:

- Scalable
- Good for APIs
- Suitable for microservices

✅ Expiration

Expired tokens are automatically rejected by `jwt.verify`

### Security Notes

The demo code is intentionally simplified:

- ❌ Passwords stored in plain text (should be hashed with bcrypt)
- ❌ No refresh tokens
- ❌ No rate limiting
- ❌ No token revocation mechanism

In production you would:

- Hash passwords
- Use HTTPS
- Possibly use HTTP-only cookies
- Add refresh token flow

### Summary

JWT authentication works by issuing a signed token after login. The client sends this token with every request, and the server verifies it using a secret key. It enables stateless, scalable authentication without storing sessions on the server.

### Demo

[Demo Express App with basic JWT authentication]()
